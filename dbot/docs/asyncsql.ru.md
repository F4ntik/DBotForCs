# Документация AioMysql

## Необходимые модули

`pip install aiomysql`

## AioMysqlError

### AioMysqlError
- **Описание**: Базовый класс для исключений AioMysql.

### ConnectionError
- **Описание**: Исключение, возникающее при ошибках, связанных с подключением к базе данных.

### QueryError
- **Описание**: Исключение, возникающее при ошибках во время выполнения SQL-запросов.

### MultipleQueryError
- **Описание**: Исключение, возникающее при ошибках во время выполнения нескольких SQL-запросов.

### TransactionError
- **Описание**: Исключение, возникающее при ошибках, связанных с транзакциями.

## AioMysql

### AioMysql
- **Описание**: Класс для управления асинхронными соединениями и операциями с базой данных MySQL.

#### __init__(host: str, port: int, user: str, password: str, db: str) -> None
- **Параметры**:
  - `host`: Имя хоста сервера MySQL.
  - `port`: Номер порта сервера MySQL.
  - `user`: Имя пользователя для базы данных MySQL.
  - `password`: Пароль для базы данных MySQL.
  - `db`: Имя базы данных для подключения.

#### connect() -> None
- **Описание**: Создает пул соединений к базе данных.

#### execute_one(query: str, args: Optional[Tuple[Any, ...]] = ()) -> Tuple[int, Optional[List[Tuple[Any, ...]]]
- **Описание**: Выполняет SQL-запрос и возвращает количество затронутых строк и результат.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args`: Необязательные параметры для SQL-запроса.

#### execute_change(query: str, args: Optional[Tuple[Any, ...]] = ()) -> int
- **Описание**: Выполняет SQL-запрос, который изменяет данные, и возвращает количество затронутых строк.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args`: Необязательные параметры для SQL-запроса.

#### execute_select(query: str, args: Optional[Tuple[Any, ...]] = ()) -> List[Tuple[Any, ...]]
- **Описание**: Выполняет SQL-запрос для выбора данных и возвращает результат.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args`: Необязательные параметры для SQL-запроса.

#### exec_many(query: str, args_list: List[Tuple[Any, ...]]) -> None
- **Описание**: Выполняет один и тот же SQL-запрос несколько раз с разными наборами параметров.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args_list`: Список наборов параметров для SQL-запроса.

#### fetch_iter(query: str, *, args: Optional[Tuple[Any, ...]] = (), batch_size: int = 100) -> AsyncIterator[Tuple[Any, ...]]
- **Описание**: Асинхронный итератор для получения данных пакетами.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args`: Необязательные параметры для SQL-запроса.
  - `batch_size`: Количество строк для извлечения за один раз.

#### close() -> None
- **Описание**: Закрывает пул соединений.

## Transaction

### Transaction
- **Описание**: Класс для управления транзакциями базы данных.

#### __init__(pool: aiomysql.Pool) -> None
- **Параметры**:
  - `pool`: Пул соединений, который будет использоваться для транзакции.

#### begin() -> None
- **Описание**: Начинает транзакцию.

#### execute(query: str, args: Optional[Tuple[Any, ...]] = ()) -> Tuple[int, Optional[List[Tuple[Any, ...]]]
- **Описание**: Выполняет SQL-запрос в рамках текущей транзакции.
- **Параметры**:
  - `query`: SQL-запрос для выполнения.
  - `args`: Необязательные параметры для SQL-запроса.

#### commit() -> None
- **Описание**: Фиксирует текущую транзакцию.

#### rollback() -> None
- **Описание**: Откатывает текущую транзакцию.

#### close() -> None
- **Описание**: Закрывает соединение, используемое в транзакции.
